---
title: 算法学习笔记
date: 2021-10-10 15:08:00 +08:00
tags: 算法
mathjax: true
---

学习算法的过程中看题解是很重要的一环，但往往题解只提供一种解法，角度难免片面。因此这里主要以题目为中心，整理我看到的各种解法以及一些个人感想。

## P1115 最大子段和

这题贪心应该是最直接的方法，也同时可以用前缀和的思想做。

题目要求的是选连续的一段，而且不限制长度，如果我们又枚举起点又枚举长度就会 $O(n^2)$ .

起点不确定的情况不好控制，我们可以把子段和转化成：第 $1$ 到 $x$ 个数之和减去第 $1$ 到 $y$ 个数之和，其中 $x > y$ . 对于每一个 $x$ ，问题就转换成了求最小前缀和。时间复杂度 $O(n)$.

贪心就更直接了。设当前以第 $i$ 个数结尾的子段最大和为 $dp[i]$ ，我们可以看出若是 $dp[i - 1] + a[i] < 0$，我们就还不如不选第 $i$ 个数，直接 $dp[i] = 0$ 即可。其他情况下就必然是 $dp[i] = dp[i - 1] + a[i]$. 最后找出最大的 $dp[i]$ 就可以了。由于 $dp[i]$ 可以直接由一个变量存储，空间复杂度 $O(1)$. 时间复杂度 $O(n)$.

## CF1573B Swaps

这题看起来很复杂，其实就一个关键点：$a$ 都为奇数而 $b$ 都为偶数，因此这两个数组从第一个数开始就不一样。想让 $a$ 字典序小于 $b$ 的话，就需要且仅需要 $a_1<b_1$. 所以只要找到一对 $a_i$ 和 $b_j$ 满足 $a_i<b_j$ 并一个一个把这两个数分别移到最前面就好了。此时问题就转化为找最小的 $i+j-2$. （若下标从 $0$ 开始则为最小的 $i+j$）

假设我们一定要选某个 $b$ 中的偶数 $b_j$，此时我们只需要找满足 $a_i<b_j$ 的下标最小的 $a_i$ 即为最优解。因此我们可以这样做：开一个数组 $p$ 记录某个数 $n$ 在数组 $a/b$ 中的位置 $p_n$. 从大到小遍历所有的数，然后用一个变量 $l$ 记录当前遍历到的 $a$ 中最小的下标，若当前数 $n$ 为奇数则 $l=min(l, p_n)$，若当前为偶数则更新答案为 $min(answer, p_i + l)$. （注意这里认为下标从 $0$ 开始）
